!function(){window.Robin={_verbs:["updated","created","destroyed","flushed","batched"]}}.call(this),function(){function e(e){function r(){for(;c=l<a.length&&e>d;){var n=l++,r=a[n],i=t.call(r,1);i.push(o(n)),++d,r[0].apply(null,i)}}function o(e){return function(n,t){--d,null==h&&(null!=n?(h=n,l=f=0/0,i()):(a[e]=t,--f?c||r():i()))}}function i(){null!=h?b(h):s?b(h,a):b.apply(null,[h].concat(a))}var u,c,s,a=[],l=0,d=0,f=0,h=null,b=n;return e||(e=1/0),u={defer:function(){return h||(a.push(arguments),++f,r()),u},await:function(e){return b=e,s=!1,f||i(),u},awaitAll:function(e){return b=e,s=!0,f||i(),u}}}function n(){}"undefined"==typeof module?self.queue=e:module.exports=e,e.version="1.0.4";var t=[].slice}(),function(){Robin.EmberReactor={_q:queue(1),process:function(e,n,t){return Robin._verbs.indexOf(e)>-1?"batched"===e?this._batched(n,t):this._enqueue(e,n,t):Ember.Logger.warn("unrecognized verb: "+e)},_execute:function(e,n,t){return Ember.Logger.log(""+e+" "+n+" => "+JSON.stringify(t)),this["_"+e](n,t)},_enqueue:function(e,n,t){var r=this;return this._q.defer(function(o){return r._execute(e,n,t),o()})},_flushed:function(e,n){var t,r;return t=n.key,r=n.value,Ember.Logger.warn("flushed not yet implemented")},_batched:function(e,n){var t,r,o,i;if(null!=n){for(Ember.Logger.log("batched ("+n.length+")"),i=[],r=0,o=n.length;o>r;r++)t=n[r],i.push(this._enqueue(t[0],e,t[1]));return i}},_created:function(e,n){return this._storeFor(e).pushPayload(e,n)},_updated:function(e,n){return this._storeFor(e).pushPayload(e,n)},_destroyed:function(e,n){var t;return t=this._storeFor(e).getById(e,n.id),null!=t?t.deleteRecord():void 0},_storeFor:function(e){var n,t;return t=Ember.String.classify(e),n=App[t],n.store}}}.call(this),function(){var e=[].slice;Robin.EmberAdapter=Ember.Object.extend({init:function(){return this.model=this.get("model"),this.subscribe()},subscribe:function(){var e,n=this;return e=function(){return n.socket=Robin.Ember.get("socket"),n._subscribeNow()},Robin.Ember.addObserver("socket",e),Robin.Ember.isConnected()?e():void 0},_subscribeNow:function(){var e,n,t,r,o,i,u=this;for(e=Ember.Inflector.inflector.pluralize(this.model),Ember.Logger.log("Subscribing to /"+e+"..."),o=Robin._verbs,i=[],t=0,r=o.length;r>t;t++)n=o[t],i.push(function(n){return u.socket.subscribe("/"+e+"/"+n,function(e){return u._react(n,e)})}(n));return i},_react:function(e,n){return Robin.EmberReactor.process(e,this.model,n)}}),Robin.EmberAdapter.reopenClass({subscribe:function(){var n,t,r,o,i;for(t=1<=arguments.length?e.call(arguments,0):[],i=[],r=0,o=t.length;o>r;r++)n=t[r],i.push(this.create({model:n}));return i}})}.call(this),function(){var e;null!=window.Ember&&(e=Ember.Object.extend({connect:function(e){return this.set("socket",e)},isConnected:function(){return null!=this.get("socket")}}),Robin.Ember=e.create())}.call(this);